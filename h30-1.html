<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <style> 
    body {
        margin: 0;
        padding: 0;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: firebrick;
     }
     #canvas {
         background-color: floralwhite;
         border-radius: 5px;
     }

    </style>
    <canvas id="canvas" width="600px" height="600px"></canvas>
    <script>
        let canvas = document.querySelector('#canvas')  
        let ctx = canvas.getContext('2d')
        let posOfRect = 250
        let squareX = 0
        let squareY = 0
        let squareSize = canvas.clientWidth / 20
        let Sharik = function() {
            this.x = 300
            this.y = 300

            this.info = 0
            this.show = function() { 
                ctx.arc(this.x, this.y, 20, 0, Math.PI * 2); 
            }
            this.move = function() {
                if (this.info == 1) {
                    this.y + 10
                }
                if (y == 0) {
                    ctx.fillRect(0, 0, 600, 600)
                }
            }
            this.Collision = function(other) {
                for (let i = 0; i < other.length; i++) {
                    const el = other[i];
                    if (el != this) {
                        let distanceX = this.x - el.x;
                        let distanceY = this.y - el.y;
                        let distance = Math.sqrt(distanceX * distanceX + distanceY * distanceY)
                        if (distance < 20 + el.size) {
                            console.log('bam')
                            this.info = 1
                        }
                    }
                }

            }
        
            
            
        }
        let Cubiki = function() {
            this.show = function() {
                for (let i = 0; i < 8; i++) {
                    ctx.fillStyle = 'blue'
                    for (let i = 0; i < 20; i++) {
                        ctx.fillRect(squareX, squareY, squareSize, squareSize)
                        squareX += squareSize
                    }
                    squareY += squareSize
                    squareX = 0
                }
                
                ctx.fillStyle = 'black'
            }
        }
        let Otbivalka = function() {
            this.show = function() {
                ctx.fillRect(posOfRect, 500, 100, 30)  
            }
            this.move = function(event) {
                if (event.keyCode == 37) {
                   ctx.clearRect(posOfRect, 500, 100, 30)
                   posOfRect = posOfRect - 10
                   ctx.fillRect(posOfRect, 500, 100, 30)
                }
                else if (event.keyCode == 39) {
                    ctx.clearRect(posOfRect, 500, 100, 30)
                    posOfRect = posOfRect + 10
                    ctx.fillRect(posOfRect, 500, 100, 30) 
                }
            }
        }
        let gameLoop = setInterval(game, 150)
        let o = new Otbivalka()
        let c = new Cubiki()
        let s = new Sharik()
        document.addEventListener('keydown', o.move)
        c.show()
        function game() {
            o.show()
            s.show()
            s.move()
        }
        
        
        
        
        
        
        
        
        
    </script>
</body>
</html>